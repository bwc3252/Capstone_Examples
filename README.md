# Eccentric PE Capstone

A Makefile for generating RIFT PE runs for my Capstone project.
See the Makefile for the types of runs that can be set up; the primary one of interest is `test_workflow_batch_gpu_eccentric`.

The injection parameters (specifically `m1`, `m2`, and `ecc`) are specified from the command line.
Additionally, a "label" for the run directory can also be specified.
For instance, to set up a run labeled `example` with two 10 solar mass objects and an eccentricity of 0.1, run:
```
$ make test_workflow_batch_gpu_eccentric LABEL=_example M1=10.0 M2=10.0 ECC=0.1
```
This will generate a run directory called `test_workflow_batch_gpu_eccentric_example`, with all files relevant to that run contained within it.

Many of the commands in each target pertain to moving and/or modifying the files generated by `util_ManualOverlapGrid.py` and `create_event_parameter_pipeline_BasicIteration`.
The files generated by these scripts are sometimes placed in the current working directory, rather than the run directory that was just created.
This can cause problems when multiple runs with different settings or injection parameters are launched at once.
The Makefile targets automatically move the files into their corresponding run directory, and the second `sed` command in each target modifies the automatically generated scripts to point to the new locations of these files.
The first `sed` command in each target modifies `convert.sub` to include a new command line argument for eccentricity, since I couldn't find a cleaner way to do this.
